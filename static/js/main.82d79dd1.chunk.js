(this.webpackJsonpauctioneer=this.webpackJsonpauctioneer||[]).push([[0],{135:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(20),a=c(13),i=c(70),s=(c(84),c(139),c(140),i.a.initializeApp({apiKey:"AIzaSyBpVbOQfUp2eia-8rokbNCu7tsm11cuEpI",authDomain:"daring-tracer-333307.firebaseapp.com",projectId:"daring-tracer-333307",storageBucket:"daring-tracer-333307.appspot.com",messagingSenderId:"478802051249",appId:"1:478802051249:web:40e0003d08645cba016290"})),o=(i.a.firestore.FieldValue.serverTimestamp,s.firestore()),l=(s.storage(),s.auth()),d=c(3),u=Object(n.createContext)(),j=function(e){var t=e.children,c=Date.parse((new Date).toDateString())+"si",r=Object(n.useState)(null),i=Object(a.a)(r,2),s=i[0],j=i[1];return Object(n.useEffect)((function(){return l.onAuthStateChanged((function(e){j(e)}))}),[]),Object(d.jsx)(u.Provider,{value:{currentUser:s,register:function(e,t){return l.createUserWithEmailAndPassword(e,t)},login:function(e,t){return l.signInWithEmailAndPassword(e+"@gmail.com",t)},logout:function(){return l.signOut()},bidAuction:function(e,t){return o.collection(c).doc(e).update({monitor:!0})},atender:function(e,t){return o.collection(c).doc(e).update({atendio:t})}},children:t})},m=c(146),b=function(e){var t,c,r=e.item,a=e.handleState,i=Object(n.useContext)(u),s=i.currentUser,o=i.atender,l=i.bidAuction,j=r.duration,b=r.completed,O=new Date(j).toLocaleTimeString("es-CL"),x=new Date(j).toLocaleDateString("es-CL",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return Object(d.jsx)("div",{className:"col",children:s&&Object(d.jsx)("div",{className:"card shadow-sm",onClick:function(){a(r),window.scrollTo(0,document.body.scrollHeight,{behavior:"smooth"})},children:Object(d.jsxs)("div",{className:"card-body p-4",children:[Object(d.jsx)("div",{className:"d-flex jsutify-content-between align-item-center",children:Object(d.jsx)("h5",{children:r.tiendaOxxo})}),Object(d.jsxs)("p",{className:"h5",children:[Object(d.jsx)("span",{className:"text-secondary",children:"KL "})," ",null===(t=r.email)||void 0===t?void 0:t.slice(0,-10)," "]}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:[x,", ",O.slice(0,-3)]})}),""!==r.atendio&&Object(d.jsxs)("p",{children:["Atendido Por: ",null===(c=r.atendio)||void 0===c?void 0:c.slice(0,-10)]}),Object(d.jsxs)("div",{className:"d-flex justify-content-between align-item-center",children:[Object(d.jsx)(m.a,{className:b?"btn btn-primary":r.monitor?"btn btn-success ":"btn btn-danger ",onClick:function(){l(r.id,s.email),a(r)},disabled:s.email!==r.atendio,children:b?"Completado":r.monitor?"Atendido \u2713":"Sin completar \u2718"}),Object(d.jsx)(m.a,{className:r.atendio?"d-none":"btn btn-primary",onClick:function(){o(r.id,s.email)},children:"Atender"})]})]})})})},O=c(71),x=c.n(O),h=(c(88),function(e){var t=e.itemState,c=void 0===t?{title:"Inicia sesi\xf3n",imgUrl:"https://image.shutterstock.com/image-photo/indifferent-puzzled-female-shruggs-shoulders-600w-1164353026.jpg"}:t,n=c.title,r=c.duration,a=c.email,i=new Date(r).toLocaleTimeString("es-CL"),s=new Date(r).toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"short",day:"numeric"});return Object(d.jsxs)("div",{className:"m-3 pb-5",children:[Object(d.jsx)("div",{className:"bg-dark text-white p-2 text-center",children:"Datos"}),Object(d.jsx)("div",{className:"card pb-0",style:{backgroundColor:"rgb(230,230,230)"},children:"Inicia sesi\xf3n"!==n&&Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("h5",{children:[Object(d.jsx)("span",{className:"text-secondary",children:"KL: "})," ",a.slice(0,-10)]}),Object(d.jsxs)("h5",{children:[Object(d.jsx)("span",{className:"text-secondary",children:"Oxxo: "})," ",c.tiendaOxxo]}),Object(d.jsxs)("h5",{children:[Object(d.jsx)("span",{className:"text-secondary",children:"Fecha: "})," ",s,", ",i]}),Object(d.jsxs)("h5",{className:"card-text",children:[Object(d.jsx)("span",{className:"text-secondary",children:"Comentarios: "})," ",c.description]}),Object(d.jsxs)("h5",{className:void 0!==c.note?"card-text":"d-none",children:[Object(d.jsx)("span",{className:"text-secondary",children:"Nota: "})," ",c.note]})]})})]})}),p=c(32),f=(c(73),function(e){var t,c=e.el,n=c.tiendaOxxo.at(0),r=c.tiendaOxxo.at(-1);return Object(d.jsxs)("div",{className:("A"===r?"c1":"B"===r&&"c2")||"C"===r&&"c3"||"D"===r&&"c4"||"E"===r&&"c5"||"F"===r&&"c6"||"G"===r&&"c7"||"H"===r&&"c8"||"I"===r&&"c9"||"J"===r&&"c10"||"K"===r&&"c11"||"L"===r&&"c12"||"M"===r&&"c13"||"N"===r&&"c14"||"O"===r&&"c15"||"P"===r&&"c16"||"Q"===r&&"c17"||"R"===r&&"c18"||"S"===r&&"c19"||"T"===r&&"c20"||"U"===r&&"c21"||"V"===r&&"c22"||"W"===r&&"c23"||"X"===r&&"c24"||"Y"===r&&"c25"||"Z"===r&&"c26"||"1"===r&&"c27"||"2"===r&&"c28"||"3"===r&&"c29"||"4"===r&&"c30"||"5"===r&&"c31"||"c32"===r&&"c26"||"7"===r&&"c33"||"8"===r&&"c34"||"9"===r&&"c35"||"A"===n&&"c1"||"B"===n&&"c2"||"C"===n&&"c3"||"D"===n&&"c4"||"E"===n&&"c5"||"F"===n&&"c6"||"G"===n&&"c7"||"H"===n&&"c8"||"I"===n&&"c9"||"J"===n&&"c10"||"K"===n&&"c11"||"L"===n&&"c12"||"M"===n&&"c13"||"N"===n&&"c14"||"O"===n&&"c15"||"P"===n&&"c16"||"Q"===n&&"c17"||"R"===n&&"c18"||"S"===n&&"c19"||"T"===n&&"c20"||"U"===n&&"c21"||"V"===n&&"c22"||"W"===n&&"c23"||"X"===n&&"c24"||"Y"===n&&"c25"||"Z"===n&&"c26",children:[Object(d.jsx)("span",{style:{marginLeft:"10px"},children:c.tiendaOxxo}),Object(d.jsx)("span",{className:c.completed?"text-primary mx-2":"text-danger mx-2",children:c.completed?"\u2713":"\u2718"}),null===(t=c.email)||void 0===t?void 0:t.slice(0,-10)]})}),v=c(77);Object(O.registerLocale)("es",v.a);var g=function(){var e,t,c,r,i=Object(n.useContext)(u).currentUser,s=function(e){var t=Object(n.useState)([]),c=Object(a.a)(t,2),r=c[0],i=c[1],s=Object(n.useState)([]),l=Object(a.a)(s,2),d=l[0],u=l[1],j=Object(n.useState)([]),m=Object(a.a)(j,2),b=m[0],O=m[1];return Object(n.useEffect)((function(){o.collection(e).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id}))})),i(t)}));var t=Number(e.slice(0,-2))-864e5;o.collection(t.toString()+"si").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id}))})),u(t)})),o.collection("auctions").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id}))})),O(t)}))}),[e]),{docs:r,docss:d,docsss:b}}(Date.parse((new Date).toDateString())+"si"),l=s.docs,j=s.docss,m=s.docsss,O=l.concat(j),v=m.concat(O);console.log(v);var g,y=Object(n.useState)(),N=Object(a.a)(y,2),w=N[0],C=N[1],S=function(e){C(e)},k=!!i&&i.email,L="";"superadmin@gmail.com"===k||"test1@gmail.com"===k||"superadmin2@gmail.com"===k||"superadmin3@gmail.com"===k||"34@gmail.com"===k||"124@gmail.com"===k||"134@gmail.com"===k||"14@gmail.com"===k?g=v.filter((function(e){return"oxxo"===e.categorie})).sort((function(e,t){return t.duration-e.duration})).filter((function(e){return!1===e.completed})):(g=[],L="Usuario No Permitido, No Podras Ver la Informacion");var D=Object(n.useState)(),E=Object(a.a)(D,2),A=(E[0],E[1]),I=Object(n.useState)(),P=Object(a.a)(I,2),F=P[0],R=P[1],U=Object(n.useState)([]),T=Object(a.a)(U,2),B=T[0],G=T[1],H=(B.filter((function(e){return e})).length,Object(n.useState)()),K=Object(a.a)(H,2),V=K[0],M=K[1],q=Object(n.useState)(),z=Object(a.a)(q,2),J=(z[0],z[1]),Q=g;B.length>0&&(Q=B.filter((function(e){return void 0!==e})));var W=Object(n.useState)(!0),X=Object(a.a)(W,2),Y=X[0],Z=X[1];return Object(d.jsxs)("div",{className:"container-fluid",children:[k&&Object(d.jsxs)("div",{className:"row bg-secondary pt-4 pb-0",children:[Object(d.jsx)("div",{className:"col-md-1"}),Object(d.jsx)("div",{className:"superadmin@gmail.com"===k||"superadmin2@gmail.com"===k||"superadmin3@gmail.com"===k?"col-md-3 text-center":"d-none",children:Object(d.jsx)(x.a,{selected:F,onChange:function(e){R(e);var t=null===e||void 0===e?void 0:e.getTime(),c=t+864e5,n=new Date(t).toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"short",day:"numeric"});A(n);var r=v.filter((function(e){return"oxxo"===e.categorie})).map((function(e,n){if(e.duration>t&&e.duration<c)return e}));G(r)},locale:"es",className:"pickers form-control mb-2 w-100 bg-secondary",dateFormat:"dd 'de' MMMM 'de' yyyy"})}),Object(d.jsx)("div",{className:(null===B||void 0===B?void 0:B.length)>0?"col-md-1 fs-2 row-back":"d-none",onClick:function(){return location.reload()},children:"\ud83d\udd19"}),Object(d.jsx)("button",{className:"superadmin@gmail.com"===k||"superadmin2@gmail.com"===k||"superadmin3@gmail.com"===k?"d-none":"btn btn-primary",onClick:function(){return Z(!Y)},children:Y?"Lista De Viajes Incompletos":"Viajes Que Atend\xed"}),Object(d.jsx)("p",{className:"text-danger fs-1 bg-white text-center",children:L}),Object(d.jsx)("div",{className:"col-md-3 text-center d-none",children:Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=B.filter((function(e){return void 0!==e})).map((function(e){return e.email===V+"@gmail.com"&&e}));J(t)},children:Object(d.jsx)("input",{type:"text",onChange:function(e){M(e.target.value),setArrRadio([])},value:V,className:B.length>0?"w-100 form-control mt-2":"d-none",style:{width:"0"},placeholder:"Buscar por KL"})})})]}),i&&Object(d.jsx)("div",{className:"superadmin@gmail.com"===k||"superadmin2@gmail.com"===k||"superadmin3@gmail.com"===k?"d-none":"row row-cols-1 row-cols-md-3 row-cols-lg-4 py-4 px-3 g-3 border mt-3 border border-secondary",style:{height:"500px",overflowY:"scroll"},children:Y?null===(e=Q)||void 0===e||null===(t=e.filter((function(e){return void 0!==e})).filter((function(e){return""===e.atendio})))||void 0===t?void 0:t.map((function(e){return Object(d.jsx)(b,{item:e,handleState:S},e.id)})):null===(c=Q)||void 0===c||null===(r=c.filter((function(e){return void 0!==e})).filter((function(e){return e.atendio===i.email})).slice(0,40))||void 0===r?void 0:r.map((function(e){return Object(d.jsx)(b,{item:e,handleState:S},e.id)}))}),Object(d.jsx)("div",{className:"superadmin@gmail.com"!==k||"superadmin2@gmail.com"!==k||"superadmin3@gmail.com"!==k&&"d-none",children:B.filter((function(e){return void 0!==e})).sort((function(e,t){return e.tiendaOxxo>t.tiendaOxxo?1:e.tiendaOxxo<t.tiendaOxxo?-1:0})).map((function(e,t){return Object(d.jsx)(f,{el:e,index:t},t)}))}),i&&Object(d.jsx)("div",{className:"superadmin@gmail.com"===k||"superadmin2@gmail.com"===k||"superadmin3@gmail.com"===k?"d-none":"border",children:Object(d.jsx)(h,{itemState:w})})]})},y=(c.p,c(37)),N=c.n(y),w=c(50),C=c(147),S=c(149),k=c(148),L=function(){var e=Object(n.useState)(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(""),s=Object(a.a)(i,2),o=s[0],l=s[1],j=Object(n.useRef)(),b=Object(n.useRef)(),O=Object(n.useContext)(u).login,x=function(){return r(!1)},h=function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(""),e.prev=2,e.next=5,O(j.current.value,b.current.value);case 5:x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l("Invalid login");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:function(){return r(!0)},className:"btn mx-2",children:"Entrar"}),Object(d.jsx)(C.a,{centered:!0,show:c,onHide:x,children:Object(d.jsxs)("form",{onSubmit:h,children:[Object(d.jsx)(C.a.Header,{children:Object(d.jsx)(C.a.Title,{children:"Entrar"})}),Object(d.jsxs)(C.a.Body,{children:[o&&Object(d.jsx)(S.a,{variant:"danger",children:o}),Object(d.jsxs)(k.a.Group,{children:[Object(d.jsx)(k.a.Label,{children:"Escribe tu KL"}),Object(d.jsx)(k.a.Control,{type:"text",required:!0,ref:j})]}),Object(d.jsxs)(k.a.Group,{className:"d-none",children:[Object(d.jsx)(k.a.Label,{children:"Password"}),Object(d.jsx)(k.a.Control,{type:"password",required:!0,ref:b,value:"123456"})]})]}),Object(d.jsxs)(C.a.Footer,{children:[Object(d.jsx)(m.a,{variant:"secondary",onClick:x,children:"Cancelar"}),Object(d.jsx)(m.a,{variant:"primary",type:"submit",children:"Entrar"})]})]})})]})},D=function(){var e=Object(n.useState)(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(""),s=Object(a.a)(i,2),o=s[0],l=s[1],j=Object(n.useRef)(),b=Object(n.useRef)(),O=Object(n.useRef)(),x=Object(n.useContext)(u).register,h=function(){return r(!1)},p=function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(""),b.current.value===O.current.value){e.next=4;break}return e.abrupt("return",l("Passwords does not match"));case 4:return e.prev=4,e.next=7,x(j.current.value,b.current.value);case 7:h(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),l(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:function(){return r(!0)},className:"btn mx-2 d-none",children:"Registro"}),Object(d.jsx)(C.a,{centered:!0,show:c,onHide:h,children:Object(d.jsxs)("form",{onSubmit:p,children:[Object(d.jsx)(C.a.Header,{children:Object(d.jsx)(C.a.Title,{children:"Registro"})}),Object(d.jsxs)(C.a.Body,{children:[o&&Object(d.jsx)(S.a,{variant:"danger",children:o}),Object(d.jsxs)(k.a.Group,{children:[Object(d.jsx)(k.a.Label,{children:"Email"}),Object(d.jsx)(k.a.Control,{type:"email",required:!0,ref:j})]}),Object(d.jsxs)(k.a.Group,{children:[Object(d.jsx)(k.a.Label,{children:"Password"}),Object(d.jsx)(k.a.Control,{type:"password",required:!0,ref:b})]}),Object(d.jsxs)(k.a.Group,{children:[Object(d.jsx)(k.a.Label,{children:"Confirmar Password"}),Object(d.jsx)(k.a.Control,{type:"password",required:!0,ref:O})]})]}),Object(d.jsxs)(C.a.Footer,{children:[Object(d.jsx)(m.a,{variant:"secondary",onClick:h,children:"Cancelar"}),Object(d.jsx)(m.a,{variant:"primary",type:"submit",children:"Registrar"})]})]})})]})},E=function(){var e=Object(n.useContext)(u),t=e.currentUser,c=e.logout;return Object(d.jsx)("nav",{className:"container-fluid navbar bg-info",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("div",{className:"navbar-brand",children:" OXXO"}),Object(d.jsx)("div",{className:"d-flex",children:Object(d.jsx)("div",{className:"col",children:t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"btn",children:t.email.slice(0,-10)}),Object(d.jsx)("div",{onClick:function(){return c()},className:"btn",children:"salir"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{}),Object(d.jsx)(D,{})]})})})]})})},A=function(){return Object(d.jsxs)(j,{children:[Object(d.jsx)(E,{}),Object(d.jsx)(g,{})]})};c(133);Object(r.render)(Object(d.jsx)(A,{}),document.getElementById("root"))},73:function(e,t,c){}},[[135,1,2]]]);
//# sourceMappingURL=main.82d79dd1.chunk.js.map